// Set on parent to place it beneath the mobile menu when expanded
.ontop {
  z-index: 1;
  position: relative;
}

.navbar {
  ul {
    background: var(--color-light-variant);
    display: flex;
    gap: var(--space-s);
  }

  // Set variables/desktop state
  @media (min-width: 60rem) {
    --details-display: none;
    --nav-button-display: none;
    --nav-position: static;
    ul {
      --nav-list-background: transparent;
      --nav-list-layout: row;
      --nav-list-position: static;
      --nav-list-padding: 0;
      --nav-list-height: auto;
      --nav-list-width: 100%;
      --nav-list-shadow: none;
      --nav-list-transform: none;
      --nav-list-visibility: visible;
    }
  }

  // position: var(--nav-position, absolute);
  // inset-block-start: 0.5rem;
  // inset-inline-end: 0.1rem;
  details {
    display: var(--details-display, flex);
    ul {
      all: unset;
    }
  }
  ul {
    box-shadow: var(--nav-list-shadow, -5px 0 11px 0 rgb(0 0 0 / 0.2));
    flex-direction: var(--nav-list-layout, column);
    flex-wrap: wrap;
    height: var(--nav-list-height);
    padding: var(--nav-list-padding, var(--space-m));
    position: var(--nav-list-position, fixed);
    inset-block-start: var(--offset); // Logical property. Equivalent to top: 0;
    inset-inline: 0; // Logical property. Equivalent to right: 0;
    width: var(--nav-list-width);
    visibility: var(--nav-list-visibility, visible);
    li {
      padding-inline-start: var(--space-m);
    }
  }

  // Mobile but not expanded
  [aria-expanded="false"] + ul {
    transform: var(--nav-list-transform, translateX(100%));
    visibility: var(--nav-list-visibility, hidden);
  }
  .mobile-button {
    all: unset;
    display: var(--nav-button-display, flex);
    align-items: center;
    position: relative;
    z-index: 2;
    cursor: pointer;
    padding-right: var(--space-s-m);
  }
  span {
    padding-right: var(--space-2xs-xs);
  }
  svg {
    height: 100%;
    width: auto;
  }

  [aria-expanded="true"] svg {
    transform: var(--nav-list-rotate, rotate(45deg));
  }

  // Animates ul only when opening to avoid flash on page load, svg always
  @media (prefers-reduced-motion: no-preference) {
    [aria-expanded="true"] + ul,
    svg {
      transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55), visibility 0.05s linear;
    }
  }
}
